<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar Conductor</title>
</head>
<body>
    <h2>Registrar Conductor</h2>
    <form id="conductorForm" enctype="multipart/form-data">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" required><br>

        <label for="apellidoPaterno">Apellido Paterno:</label>
        <input type="text" id="apellidoPaterno" name="apellidoPaterno" required><br>

        <label for="apellidoMaterno">Apellido Materno:</label>
        <input type="text" id="apellidoMaterno" name="apellidoMaterno" required><br>

        <label for="email">Correo:</label>
        <input type="email" id="email" name="email" required><br>

        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required><br>

        <label for="boleta">Boleta:</label>
        <input type="number" id="boleta" name="boleta" required><br>

        <label for="avisoPrivacidad">Acepto el Aviso de Privacidad:</label>
        <input type="checkbox" id="avisoPrivacidad" name="avisoPrivacidad" value="true" required><br>

        <label for="sexo">Sexo:</label>
        <select id="sexo" name="sexo" required>
            <option value="masculino">Masculino</option>
            <option value="femenino">Femenino</option>
        </select><br>

        <label for="placas">Placas:</label>
        <input type="text" id="placas" name="placas" required><br>

        <label for="descripcion">Descripción del Vehículo:</label>
        <input type="text" id="descripcion" name="descripcion"><br>

        <label for="modelo">Modelo del Vehículo:</label>
        <input type="text" id="modelo" name="modelo" required><br>

        <label for="color">Color del Vehículo:</label>
        <input type="text" id="color" name="color" required><br>

        <label for="fotoPerfil">Foto de Perfil:</label>
        <input type="file" id="fotoPerfil" name="fotoPerfil" required><br>

        <button type="button" onclick="registerConductor()">Registrar Conductor</button>
    </form>

    <script>
        function registerConductor() {
            const form = document.getElementById('conductorForm');
            const formData = new FormData(form);

            fetch('http://localhost:8080/auth/nuevo/conductor', {
                method: 'POST',
                body: formData,
            })
            .then(response => response.json())
            .then(data => {
                if (data.mensaje) {
                    alert(data.mensaje);
                } else {
                    alert('Conductor registrado exitosamente.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Error al registrar el conductor.');
            });
        }
    </script>
</body>
</html>
